{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/wanaqil/alchemyy-marketplace/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/wanaqil/alchemyy-marketplace/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/wanaqil/alchemyy-marketplace/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import NavBar from\"./Navbar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Recent(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState({openSeaData:null,magicEdenData:null}),_useState6=_slicedToArray(_useState5,2),nftData=_useState6[0],setNftData=_useState6[1];useEffect(function(){var fetchNftListings=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var openSeaHeaders,openSeaRequestOptions,openSeaResponse,openSeaData,magicEdenUrl,magicEdenOptions,magicEdenResponse,magicEdenData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setLoading(true);setError(\"\");_context.prev=2;// OpenSea API\nopenSeaHeaders=new Headers();openSeaHeaders.append(\"X-API-KEY\",\"36bcfeb8b7b848dd9eec125683d47078\");openSeaRequestOptions={method:\"GET\",headers:openSeaHeaders,redirect:\"follow\"};_context.next=8;return fetch(\"https://api.opensea.io/v2/orders/ethereum/seaport/listings?order_by=created_date&order_direction=desc\",openSeaRequestOptions);case 8:openSeaResponse=_context.sent;_context.next=11;return openSeaResponse.json();case 11:openSeaData=_context.sent;// Magic Eden API\nmagicEdenUrl=\"https://api-mainnet.magiceden.dev/v2/collections/symbol/listings\";magicEdenOptions={method:\"GET\",headers:{accept:\"application/json\"}};_context.next=16;return fetch(magicEdenUrl,magicEdenOptions);case 16:magicEdenResponse=_context.sent;_context.next=19;return magicEdenResponse.json();case 19:magicEdenData=_context.sent;// Store the fetched NFT data from both APIs in the state\nsetNftData({openSeaData:openSeaData,magicEdenData:magicEdenData});_context.next=26;break;case 23:_context.prev=23;_context.t0=_context[\"catch\"](2);setError(\"An error occurred while fetching NFT data\");case 26:setLoading(false);case 27:case\"end\":return _context.stop();}},_callee,null,[[2,23]]);}));return function fetchNftListings(){return _ref.apply(this,arguments);};}();fetchNftListings();// Fetch NFT listings on page refresh\n},[]);// Empty dependency array to run the effect only once\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(NavBar,{className:\"navbar\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col place-items-center mt-20 text-white\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Recent NFT Listings\"}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):error?/*#__PURE__*/_jsxs(\"p\",{children:[\"Error: \",error]}):/*#__PURE__*/_jsxs(\"div\",{className:\"mt-5 max-w-screen-xl text-center\",children:[nftData.openSeaData&&nftData.openSeaData.orders.length>0?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"md:text-xl font-bold\",children:\"OpenSea Listings\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-4 gap-4\",children:nftData.openSeaData.orders.map(function(order){return/*#__PURE__*/_jsxs(\"div\",{className:\"nft-item mb-5\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"NFT Name: \",order.maker_asset_bundle.assets[0].name]}),/*#__PURE__*/_jsx(\"img\",{src:order.maker_asset_bundle.assets[0].image_url,alt:order.maker_asset_bundle.assets[0].name})]},order.order_hash);})})]}):/*#__PURE__*/_jsx(\"p\",{children:\"No OpenSea NFTs found\"}),nftData.magicEdenData&&nftData.magicEdenData.length>0?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"md:text-xl font-bold\",children:\"Magic Eden Listings\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-4 gap-4\",children:nftData.magicEdenData.map(function(listing){return/*#__PURE__*/_jsxs(\"div\",{className:\"nft-item mb-5\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"NFT Name: \",listing.name]}),/*#__PURE__*/_jsx(\"img\",{src:listing.image,alt:listing.name})]},listing.id);})})]}):/*#__PURE__*/_jsx(\"p\",{children:\"No Magic Eden NFTs found\"})]})]})]});}export default Recent;","map":{"version":3,"names":["React","useState","useEffect","NavBar","jsx","_jsx","jsxs","_jsxs","Recent","_useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","error","setError","_useState5","openSeaData","magicEdenData","_useState6","nftData","setNftData","fetchNftListings","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","openSeaHeaders","openSeaRequestOptions","openSeaResponse","magicEdenUrl","magicEdenOptions","magicEdenResponse","wrap","_callee$","_context","prev","next","Headers","append","method","headers","redirect","fetch","sent","json","accept","t0","stop","apply","arguments","children","className","orders","length","map","order","maker_asset_bundle","assets","name","src","image_url","alt","order_hash","listing","image","id"],"sources":["C:/Users/wanaqil/alchemyy-marketplace/src/components/Recent.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport NavBar from \"./Navbar\";\r\n\r\nfunction Recent() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [nftData, setNftData] = useState({\r\n    openSeaData: null,\r\n    magicEdenData: null,\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchNftListings = async () => {\r\n      setLoading(true);\r\n      setError(\"\");\r\n\r\n      try {\r\n        // OpenSea API\r\n        const openSeaHeaders = new Headers();\r\n        openSeaHeaders.append(\"X-API-KEY\", \"36bcfeb8b7b848dd9eec125683d47078\");\r\n\r\n        const openSeaRequestOptions = {\r\n          method: \"GET\",\r\n          headers: openSeaHeaders,\r\n          redirect: \"follow\",\r\n        };\r\n\r\n        const openSeaResponse = await fetch(\r\n          `https://api.opensea.io/v2/orders/ethereum/seaport/listings?order_by=created_date&order_direction=desc`,\r\n          openSeaRequestOptions\r\n        );\r\n\r\n        const openSeaData = await openSeaResponse.json();\r\n\r\n        // Magic Eden API\r\n        const magicEdenUrl =\r\n          \"https://api-mainnet.magiceden.dev/v2/collections/symbol/listings\";\r\n        const magicEdenOptions = {\r\n          method: \"GET\",\r\n          headers: { accept: \"application/json\" },\r\n        };\r\n\r\n        const magicEdenResponse = await fetch(magicEdenUrl, magicEdenOptions);\r\n        const magicEdenData = await magicEdenResponse.json();\r\n\r\n        // Store the fetched NFT data from both APIs in the state\r\n        setNftData({ openSeaData, magicEdenData });\r\n      } catch (error) {\r\n        setError(\"An error occurred while fetching NFT data\");\r\n      }\r\n\r\n      setLoading(false);\r\n    };\r\n\r\n    fetchNftListings(); // Fetch NFT listings on page refresh\r\n  }, []); // Empty dependency array to run the effect only once\r\n\r\n  return (\r\n    <div>\r\n      <NavBar className=\"navbar\" />\r\n      <div className=\"flex flex-col place-items-center mt-20 text-white\">\r\n        <h2>Recent NFT Listings</h2>\r\n        {loading ? (\r\n          <p>Loading...</p>\r\n        ) : error ? (\r\n          <p>Error: {error}</p>\r\n        ) : (\r\n          <div className=\"mt-5 max-w-screen-xl text-center\">\r\n            {/* Display OpenSea NFTs */}\r\n            {nftData.openSeaData && nftData.openSeaData.orders.length > 0 ? (\r\n              <div>\r\n                <h3 className=\"md:text-xl font-bold\">OpenSea Listings</h3>\r\n                <div className=\"grid grid-cols-4 gap-4\">\r\n                  {nftData.openSeaData.orders.map((order) => (\r\n                    <div key={order.order_hash} className=\"nft-item mb-5\">\r\n                      <h4>\r\n                        NFT Name: {order.maker_asset_bundle.assets[0].name}\r\n                      </h4>\r\n                      <img\r\n                        src={order.maker_asset_bundle.assets[0].image_url}\r\n                        alt={order.maker_asset_bundle.assets[0].name}\r\n                      />\r\n                      \r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <p>No OpenSea NFTs found</p>\r\n            )}\r\n\r\n            {/* Display Magic Eden NFTs */}\r\n            {nftData.magicEdenData && nftData.magicEdenData.length > 0 ? (\r\n              <div>\r\n                <h3 className=\"md:text-xl font-bold\">Magic Eden Listings</h3>\r\n                <div className=\"grid grid-cols-4 gap-4\">\r\n                  {nftData.magicEdenData.map((listing) => (\r\n                    <div key={listing.id} className=\"nft-item mb-5\">\r\n                      <h4>NFT Name: {listing.name}</h4>\r\n                      <img src={listing.image} alt={listing.name} />\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <p>No Magic Eden NFTs found</p>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Recent;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}