{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/wanaqil/alchemyy-marketplace/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/wanaqil/alchemyy-marketplace/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/wanaqil/alchemyy-marketplace/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import logo from'../logo_3.png';import fullLogo from'../full_logo.png';import{BrowserRouter as Router,Switch,Route,Link,useRouteMatch,useParams}from\"react-router-dom\";import{useEffect,useState}from'react';import{useLocation}from'react-router';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Navbar(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),connected=_useState2[0],toggleConnect=_useState2[1];var location=useLocation();var _useState3=useState('0x'),_useState4=_slicedToArray(_useState3,2),currAddress=_useState4[0],updateAddress=_useState4[1];function getAddress(){return _getAddress.apply(this,arguments);}function _getAddress(){_getAddress=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var ethers,provider,signer,addr;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:ethers=require(\"ethers\");provider=new ethers.providers.Web3Provider(window.ethereum);signer=provider.getSigner();_context.next=5;return signer.getAddress();case 5:addr=_context.sent;updateAddress(addr);case 7:case\"end\":return _context.stop();}},_callee);}));return _getAddress.apply(this,arguments);}function updateButton(){var ethereumButton=document.querySelector(\".enableEthereumButton\");ethereumButton.textContent=\"Connected\";ethereumButton.classList.remove(\"hover:bg-blue-70\");ethereumButton.classList.remove(\"bg-blue-500\");ethereumButton.classList.add(\"hover:bg-green-70\");ethereumButton.classList.add(\"bg-green-500\");}function connectWebsite(){return _connectWebsite.apply(this,arguments);}function _connectWebsite(){_connectWebsite=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var chainId;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return window.ethereum.request({method:\"eth_chainId\"});case 2:chainId=_context2.sent;if(!(chainId!==\"0xaa36a7\")){_context2.next=6;break;}_context2.next=6;return window.ethereum.request({method:\"wallet_switchEthereumChain\",params:[{chainId:\"0xaa36a7\"}]});case 6:_context2.next=8;return window.ethereum.request({method:\"eth_requestAccounts\"}).then(function(){updateButton();console.log(\"here\");getAddress();window.location.replace(location.pathname);});case 8:case\"end\":return _context2.stop();}},_callee2);}));return _connectWebsite.apply(this,arguments);}useEffect(function(){if(window.ethereum==undefined)return;var val=window.ethereum.isConnected();if(val){console.log(\"here\");getAddress();toggleConnect(val);updateButton();}window.ethereum.on(\"accountsChanged\",function(accounts){window.location.replace(location.pathname);});});return/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(\"nav\",{className:\"w-screen\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"flex items-end justify-between py-3 bg-transparent text-white pr-5\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"flex items-end ml-5 pb-2\",children:/*#__PURE__*/_jsxs(Link,{to:\"/\",children:[/*#__PURE__*/_jsx(\"img\",{src:fullLogo,alt:\"\",width:120,height:120,className:\"inline-block -mt-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"inline-block font-bold text-xl ml-2\",children:\"NFT Marketplace\"})]})}),/*#__PURE__*/_jsx(\"li\",{className:\"w-2/6\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"lg:flex justify-between font-bold mr-10 text-lg\",children:[location.pathname===\"/\"?/*#__PURE__*/_jsx(\"li\",{className:\"border-b-2 hover:pb-0 p-2\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Marketplace\"})}):/*#__PURE__*/_jsx(\"li\",{className:\"hover:border-b-2 hover:pb-0 p-2\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Marketplace\"})}),location.pathname===\"/sellNFT\"?/*#__PURE__*/_jsx(\"li\",{className:\"border-b-2 hover:pb-0 p-2\",children:/*#__PURE__*/_jsx(Link,{to:\"/sellNFT\",children:\"List My NFT\"})}):/*#__PURE__*/_jsx(\"li\",{className:\"hover:border-b-2 hover:pb-0 p-2\",children:/*#__PURE__*/_jsx(Link,{to:\"/sellNFT\",children:\"List My NFT\"})}),location.pathname===\"/profile\"?/*#__PURE__*/_jsx(\"li\",{className:\"border-b-2 hover:pb-0 p-2\",children:/*#__PURE__*/_jsx(Link,{to:\"/profile\",children:\"Profile\"})}):/*#__PURE__*/_jsx(\"li\",{className:\"hover:border-b-2 hover:pb-0 p-2\",children:/*#__PURE__*/_jsx(Link,{to:\"/profile\",children:\"Profile\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"enableEthereumButton bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded text-sm\",onClick:connectWebsite,children:connected?\"Connected\":\"Connect Wallet\"})})]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-white text-bold text-right mr-10 text-sm\",children:[currAddress!==\"0x\"?\"Connected to\":\"Not Connected. Please login to view NFTs\",\" \",currAddress!==\"0x\"?currAddress.substring(0,15)+'...':\"\"]})]});}export default Navbar;","map":{"version":3,"names":["logo","fullLogo","BrowserRouter","Router","Switch","Route","Link","useRouteMatch","useParams","useEffect","useState","useLocation","jsx","_jsx","jsxs","_jsxs","Navbar","_useState","_useState2","_slicedToArray","connected","toggleConnect","location","_useState3","_useState4","currAddress","updateAddress","getAddress","_getAddress","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","ethers","provider","signer","addr","wrap","_callee$","_context","prev","next","require","providers","Web3Provider","window","ethereum","getSigner","sent","stop","updateButton","ethereumButton","document","querySelector","textContent","classList","remove","add","connectWebsite","_connectWebsite","_callee2","chainId","_callee2$","_context2","request","method","params","then","console","log","replace","pathname","undefined","val","isConnected","on","accounts","className","children","to","src","alt","width","height","onClick","substring"],"sources":["C:/Users/wanaqil/alchemyy-marketplace/src/components/Navbar.js"],"sourcesContent":["import logo from '../logo_3.png';\r\nimport fullLogo from '../full_logo.png';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n  useRouteMatch,\r\n  useParams\r\n} from \"react-router-dom\";\r\nimport { useEffect, useState } from 'react';\r\nimport { useLocation } from 'react-router';\r\n\r\nfunction Navbar() {\r\n\r\nconst [connected, toggleConnect] = useState(false);\r\nconst location = useLocation();\r\nconst [currAddress, updateAddress] = useState('0x');\r\n\r\nasync function getAddress() {\r\n  const ethers = require(\"ethers\");\r\n  const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n  const signer = provider.getSigner();\r\n  const addr = await signer.getAddress();\r\n  updateAddress(addr);\r\n}\r\n\r\nfunction updateButton() {\r\n  const ethereumButton = document.querySelector(\".enableEthereumButton\");\r\n  ethereumButton.textContent = \"Connected\";\r\n  ethereumButton.classList.remove(\"hover:bg-blue-70\");\r\n  ethereumButton.classList.remove(\"bg-blue-500\");\r\n  ethereumButton.classList.add(\"hover:bg-green-70\");\r\n  ethereumButton.classList.add(\"bg-green-500\");\r\n}\r\n\r\nasync function connectWebsite() {\r\n  const chainId = await window.ethereum.request({ method: \"eth_chainId\" });\r\n  if (chainId !== \"0xaa36a7\") {\r\n    //alert('Incorrect network! Switch your metamask network to Rinkeby');\r\n    await window.ethereum.request({\r\n      method: \"wallet_switchEthereumChain\",\r\n      params: [{ chainId: \"0xaa36a7\" }],\r\n    });\r\n  }\r\n  await window.ethereum.request({ method: \"eth_requestAccounts\" }).then(() => {\r\n    updateButton();\r\n    console.log(\"here\");\r\n    getAddress();\r\n    window.location.replace(location.pathname);\r\n  });\r\n}\r\n\r\nuseEffect(() => {\r\n  if (window.ethereum == undefined) return;\r\n  let val = window.ethereum.isConnected();\r\n  if (val) {\r\n    console.log(\"here\");\r\n    getAddress();\r\n    toggleConnect(val);\r\n    updateButton();\r\n  }\r\n\r\n  window.ethereum.on(\"accountsChanged\", function (accounts) {\r\n    window.location.replace(location.pathname);\r\n  });\r\n});\r\n\r\n    return (\r\n      <div className=\"\">\r\n        <nav className=\"w-screen\">\r\n          <ul className='flex items-end justify-between py-3 bg-transparent text-white pr-5'>\r\n          <li className='flex items-end ml-5 pb-2'>\r\n            <Link to=\"/\">\r\n            <img src={fullLogo} alt=\"\" width={120} height={120} className=\"inline-block -mt-2\"/>\r\n            <div className='inline-block font-bold text-xl ml-2'>\r\n              NFT Marketplace\r\n            </div>\r\n            </Link>\r\n          </li>\r\n          <li className='w-2/6'>\r\n            <ul className='lg:flex justify-between font-bold mr-10 text-lg'>\r\n              {location.pathname === \"/\" ? \r\n              <li className='border-b-2 hover:pb-0 p-2'>\r\n                <Link to=\"/\">Marketplace</Link>\r\n              </li>\r\n              :\r\n              <li className='hover:border-b-2 hover:pb-0 p-2'>\r\n                <Link to=\"/\">Marketplace</Link>\r\n              </li>              \r\n              }\r\n              {location.pathname === \"/sellNFT\" ? \r\n              <li className='border-b-2 hover:pb-0 p-2'>\r\n                <Link to=\"/sellNFT\">List My NFT</Link>\r\n              </li>\r\n              :\r\n              <li className='hover:border-b-2 hover:pb-0 p-2'>\r\n                <Link to=\"/sellNFT\">List My NFT</Link>\r\n              </li>              \r\n              }              \r\n              {location.pathname === \"/profile\" ? \r\n              <li className='border-b-2 hover:pb-0 p-2'>\r\n                <Link to=\"/profile\">Profile</Link>\r\n              </li>\r\n              :\r\n              <li className='hover:border-b-2 hover:pb-0 p-2'>\r\n                <Link to=\"/profile\">Profile</Link>\r\n              </li>              \r\n              }  \r\n              <li>\r\n                <button className=\"enableEthereumButton bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded text-sm\" onClick={connectWebsite}>{connected? \"Connected\":\"Connect Wallet\"}</button>\r\n              </li>\r\n            </ul>\r\n          </li>\r\n          </ul>\r\n        </nav>\r\n        <div className='text-white text-bold text-right mr-10 text-sm'>\r\n          {currAddress !== \"0x\" ? \"Connected to\":\"Not Connected. Please login to view NFTs\"} {currAddress !== \"0x\" ? (currAddress.substring(0,15)+'...'):\"\"}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  export default Navbar;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}